# CHANGELOG

Keep a short, chronological list of noteworthy changes to this project.

Format suggestion:

- YYYY-MM-DD — Author — Short one-line summary. Files/paths: `path1`, `path2`. Notes: ...

## Historique

- 2025-11-27 — abdel — Optimisation WSL2/Podman + correction chemins Git Bash dans SETUP_FULL.sh. Files: `scripts/SETUP_FULL.sh`, `config/.wslconfig`, `scripts/configure-wsl-podman.sh`, `scripts/configure-wsl-podman.ps1`. Notes: Correction du chemin `.wslconfig` de `/mnt/c/Users/$USER/` vers `/c/Users/abdel/` pour compatibilité Git Bash. Ajout configuration WSL2 (6GB RAM, 4 CPUs, 2GB swap) dans `config/.wslconfig`. Scripts Bash et PowerShell pour copier `.wslconfig`, redémarrer WSL et Podman Machine. Note importante: sous WSL, `podman machine set` n'est pas supporté - les ressources sont héritées de WSL2. Timeout Composer augmenté à 2400s. Installation complète testée et validée avec succès.

- 2025-11-26 — abdel — Ajout script d'installation automatisée complète SETUP_FULL.sh. Files: `scripts/SETUP_FULL.sh`, `docs/07_SETUP_FULL_SCRIPT.md`, `docs/00_GUIDE_LECTURE.md`, `README.md`, `CHANGELOG.md`. Notes: Nouveau script `SETUP_FULL.sh` avec deux modes : (1) Réinitialisation complète (nettoyage + build images + démarrage containers + composer install + configuration Drupal), (2) Démarrage simple des containers existants. Timeout Composer optimisé à 1200s pour gérer l'extraction de drupal/core dans WSL2. Conservation automatique de composer.json/composer.lock lors du nettoyage. Documentation complète avec durées estimées, commandes utiles, dépannage. Tests validés : mode 2 fonctionne parfaitement, redémarre les containers en ~10s.

- 2025-11-26 — abdel — Renommage des fichiers de documentation avec préfixes numériques. Files: `docs/00_GUIDE_LECTURE.md`, `docs/01_PODMAN_INSTALL.md`, `docs/02_CONTAINER_APACHE_INSTALL.md`, `docs/03_CONTAINER_PHP_INSTALL.md`, `docs/04_CONTAINER_POSTGRESQL_INSTALL.md`, `docs/05_DRUPAL_INSTALLATION.md`, `docs/06_CLEANUP_SCRIPT.md`, `README.md`, `CHANGELOG.md`. Notes: Renommage de tous les fichiers de documentation avec préfixes 00 à 06 pour indiquer l'ordre logique de lecture. 00 = Guide de lecture, 01-05 = Parcours d'apprentissage (Podman → Apache → PHP → PostgreSQL → Drupal), 06 = Maintenance (cleanup). Mise à jour de tous les liens internes dans README.md et les fichiers de documentation. Facilite la navigation pour les nouveaux utilisateurs.

- 2025-11-26 — abdel — Ajout guide de lecture de la documentation. Files: `docs/GUIDE_LECTURE.md`, `README.md`, `CHANGELOG.md`. Notes: Nouveau guide complet pour naviguer dans la documentation selon le niveau de l'utilisateur. Trois parcours : débutant (2h, tous les guides), intermédiaire (30-45 min, survol), avancé (5-10 min, sections spécifiques). Inclut des scénarios d'utilisation (installation complète, dépannage, personnalisation), index des problèmes courants, glossaire, et conseils de lecture. Tableau de parcours d'apprentissage recommandé dans README.md avec temps estimés.

- 2025-11-26 — abdel — Ajout script de nettoyage complet cleanup.sh. Files: `scripts/cleanup.sh`, `docs/CLEANUP_SCRIPT.md`, `docs/PODMAN_INSTALL.md`, `CHANGELOG.md`, `README.md`. Notes: Nouveau script `cleanup.sh` pour supprimer automatiquement tous les conteneurs/images/volumes/réseaux Podman avec confirmation interactive. Documentation complète dans `CLEANUP_SCRIPT.md` avec exemples d'utilisation, étapes détaillées, alternatives manuelles et dépannage. Intégration dans PODMAN_INSTALL.md section 9.1 et README.md (section Scripts disponibles). Permet de repartir d'un environnement propre facilement.

- 2025-11-25 — abdel — Ajout procédure complète validée avec syntaxe volumes Windows. Files: `docs/PODMAN_INSTALL.md`, `CHANGELOG.md`. Notes: Nouvelle section 9 dans PODMAN_INSTALL.md documentant la procédure complète testée et validée étape par étape. Point clé: sous Git Bash Windows, utiliser la syntaxe `C:\\Users\\...\\src:/var/www/html` avec backslashes échappés pour les volumes (les formats `./src` et `$PWD/src` ne fonctionnent PAS). Workflow complet: nettoyage → réseau → build images → volume → démarrage conteneurs (db puis php puis web) → vérification. Tests OK - environnement fonctionnel, site accessible sur http://localhost:8080.

- 2025-11-25 — abdel — Réorganisation complète de la documentation en fichiers spécialisés. Files: `docs/PODMAN_INSTALL.md`, `docs/CONTAINER_APACHE_INSTALL.md`, `docs/CONTAINER_PHP_INSTALL.md`, `docs/CONTAINER_POSTGRESQL_INSTALL.md`, `docs/DRUPAL_INSTALLATION.md`, `README.md`, `CHANGELOG.md`. Notes: Séparation de la documentation en 5 fichiers spécialisés - (1) Installation Podman/WSL2 avec gestion volumes/réseaux, (2) Configuration conteneur Apache avec Dockerfile/vhost/modules, (3) Configuration conteneur PHP-FPM avec extensions/Composer/php.ini, (4) Configuration conteneur PostgreSQL avec variables/volumes/sauvegarde, (5) Installation et gestion Drupal. Anciens fichiers PODMAN_ENVIRONMENT.md et INSTALLATION.md sauvegardés en .backup.

- 2025-11-25 — abdel — Réorganisation de la documentation en 2 guides distincts. Files: `docs/PODMAN_ENVIRONMENT.md`, `docs/DRUPAL_INSTALLATION.md`, `README.md`, `CHANGELOG.md`. Notes: Séparation claire entre documentation Podman/environnement (installation WSL2, gestion conteneurs, volumes, réseaux, monitoring) et documentation Drupal (installation, configuration, modules, mises à jour, Drush). Ancien fichier INSTALLATION.md sauvegardé dans INSTALLATION.md.backup.

- 2025-11-25 — abdel — Documentation complète + scripts de monitoring/logs. Files: `docs/INSTALLATION.md`, `scripts/health-check.*`, `scripts/logs-collect.*`, `scripts/stop-containers.*`, `podman-compose.yml`, `Makefile`, `README.md`. Notes: Guide d'installation complet (9 sections) avec prérequis WSL2/Podman, structure projet, configuration complète, commandes, tests de vérification, dépannage, sécurité. Ajout healthchecks et volumes logs dans podman-compose.yml. Scripts Bash + PowerShell pour vérifier santé conteneurs et collecter logs.

- 2025-01-27 — abdel — Correction modules Apache critiques + upgrade PostgreSQL 16. Files: `docker/apache/Dockerfile`, `podman-compose.yml`, `docs/PODMAN_DRUPAL11_SETUP.md`. Notes: Les modules `proxy`, `proxy_fcgi` et `rewrite` sont OBLIGATOIRES pour que PHP fonctionne. PostgreSQL mis à jour vers version 16 (requis par Drupal 11). Configuration base de données ajoutée dans `settings.php`.

- 2025-01-27 — abdel — Ajout d'un script de gestion des modules Apache. Files: `scripts/manage-apache-modules.sh`, `scripts/manage-apache-modules.ps1`. Notes: Permet d'activer/désactiver facilement les modules Apache (headers, expires, deflate, ssl, etc.). Usage: `./scripts/manage-apache-modules.sh enable headers expires` ou `.\scripts\manage-apache-modules.ps1 enable headers`.

- 2025-01-27 — abdel — Activation des clean URLs Drupal (mod_rewrite Apache) + scripts d'initialisation Podman/WSL. Files: `docker/apache/Dockerfile`, `scripts/init-podman.sh`, `scripts/init-podman.ps1`, `scripts/start-containers.sh`, `scripts/start-containers.ps1`. Notes: Utiliser `podman compose` au lieu de `podman-compose`. Commande de démarrage: `./scripts/start-containers.sh` ou `.\scripts\start-containers.ps1`.

- 2025-01-27 — abdel — Add Podman development stack, PHP & Apache Dockerfiles, helper scripts. Files: `docker/php/Dockerfile`, `docker/apache/Dockerfile`, `podman-compose.yml`, `scripts/*`.
